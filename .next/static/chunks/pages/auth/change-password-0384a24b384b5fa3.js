(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1704],{5467:function(e,n,o){"use strict";function r(e){return Object.keys(e).reduce(function(n,o){return(o.startsWith("data-")||o.startsWith("aria-")||"role"===o)&&!o.startsWith("data-__")&&(n[o]=e[o]),n},{})}o.d(n,{Z:function(){return r}})},99138:function(e,n,o){"use strict";o.d(n,{Z:function(){return O}});var r=o(87462),t=o(97685),i=o(4942),s=o(89739),a=o(4340),l=o(97937),c=o(21640),d=o(78860),u=o(94184),m=o.n(u),p=o(62874),f=o(67294),g=o(53124),h=o(5467),v=o(96159),Z=o(15671),w=o(43144),x=o(60136),b=o(73568),y=function(e){(0,x.Z)(o,e);var n=(0,b.Z)(o);function o(){var e;return(0,Z.Z)(this,o),e=n.apply(this,arguments),e.state={error:void 0,info:{componentStack:""}},e}return(0,w.Z)(o,[{key:"componentDidCatch",value:function(e,n){this.setState({error:e,info:n})}},{key:"render",value:function(){var e=this.props,n=e.message,o=e.description,r=e.children,t=this.state,i=t.error,s=t.info,a=s&&s.componentStack?s.componentStack:null,l=void 0===n?(i||"").toString():n;return i?f.createElement(O,{type:"error",message:l,description:f.createElement("pre",null,void 0===o?a:o)}):r}}]),o}(f.Component),C=o(67968),E=o(45503),S=o(14747),I=function(e,n,o,r,t){return(0,i.Z)({backgroundColor:e,border:r.lineWidth+"px "+r.lineType+" "+n},t+"-icon",{color:o})},P=function(e){var n,o,t,s=e.componentCls,a=e.motionDurationSlow,l=e.marginXS,c=e.marginSM,d=e.fontSize,u=e.fontSizeLG,m=e.lineHeight,p=e.borderRadiusLG,f=e.motionEaseInOutCirc,g=e.alertIconSizeLG,h=e.colorText,v=e.paddingContentVerticalSM,Z=e.alertPaddingHorizontal,w=e.paddingMD,x=e.paddingContentHorizontalLG;return t={},(0,i.Z)(t,s,(0,r.Z)((0,r.Z)({},(0,S.Wf)(e)),(n={position:"relative",display:"flex",alignItems:"center",padding:v+"px "+Z+"px",wordWrap:"break-word",borderRadius:p,"&&-rtl":{direction:"rtl"}},(0,i.Z)(n,s+"-content",{flex:1,minWidth:0}),(0,i.Z)(n,s+"-icon",{marginInlineEnd:l,lineHeight:0}),(0,i.Z)(n,"&-description",{display:"none",fontSize:d,lineHeight:m}),(0,i.Z)(n,"&-message",{color:h}),(0,i.Z)(n,"&&-motion-leave",{overflow:"hidden",opacity:1,transition:"max-height "+a+" "+f+", opacity "+a+" "+f+",\n        padding-top "+a+" "+f+", padding-bottom "+a+" "+f+",\n        margin-bottom "+a+" "+f}),(0,i.Z)(n,"&&-motion-leave-active",{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}),n))),(0,i.Z)(t,s+"-with-description",(o={alignItems:"flex-start",paddingInline:x,paddingBlock:w},(0,i.Z)(o,s+"-icon",{marginInlineEnd:c,fontSize:g,lineHeight:0}),(0,i.Z)(o,s+"-message",{display:"block",marginBottom:l,color:h,fontSize:u}),(0,i.Z)(o,s+"-description",{display:"block"}),o)),(0,i.Z)(t,s+"-banner",{marginBottom:0,border:"0 !important",borderRadius:0}),t},j=function(e){var n=e.componentCls,o=e.colorSuccess,t=e.colorSuccessBorder,s=e.colorSuccessBg,a=e.colorWarning,l=e.colorWarningBorder,c=e.colorWarningBg,d=e.colorError,u=e.colorErrorBorder,m=e.colorErrorBg,p=e.colorInfo,f=e.colorInfoBorder,g=e.colorInfoBg;return(0,i.Z)({},n,{"&-success":I(s,t,o,e,n),"&-info":I(g,f,p,e,n),"&-warning":I(c,l,a,e,n),"&-error":(0,r.Z)((0,r.Z)({},I(m,u,d,e,n)),(0,i.Z)({},n+"-description > pre",{margin:0,padding:0}))})},k=function(e){var n,o=e.componentCls,r=e.iconCls,t=e.motionDurationMid,s=e.marginXS,a=e.fontSizeIcon,l=e.colorIcon,c=e.colorIconHover;return(0,i.Z)({},o,(n={},(0,i.Z)(n,"&-action",{marginInlineStart:s}),(0,i.Z)(n,o+"-close-icon",(0,i.Z)({marginInlineStart:s,padding:0,overflow:"hidden",fontSize:a,lineHeight:a+"px",backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer"},r+"-close",{color:l,transition:"color "+t,"&:hover":{color:c}})),(0,i.Z)(n,"&-close-text",{color:l,transition:"color "+t,"&:hover":{color:c}}),n))},N=(0,C.Z)("Alert",function(e){var n,o=e.fontSizeHeading3;return[[P(n=(0,E.TS)(e,{alertIconSizeLG:o,alertPaddingHorizontal:12})),j(n),k(n)]]}),_=function(e,n){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>n.indexOf(r)&&(o[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var t=0,r=Object.getOwnPropertySymbols(e);t<r.length;t++)0>n.indexOf(r[t])&&Object.prototype.propertyIsEnumerable.call(e,r[t])&&(o[r[t]]=e[r[t]]);return o},z={success:s.Z,info:d.Z,error:a.Z,warning:c.Z},B=function(e){var n=e.icon,o=e.prefixCls,r=z[e.type]||null;return n?(0,v.wm)(n,f.createElement("span",{className:o+"-icon"},n),function(){return{className:m()(o+"-icon",(0,i.Z)({},n.props.className,n.props.className))}}):f.createElement(r,{className:o+"-icon"})},H=function(e){var n=e.isClosable,o=e.closeText,r=e.prefixCls,t=e.closeIcon,i=e.handleClose;return n?f.createElement("button",{type:"button",onClick:i,className:r+"-close-icon",tabIndex:0},o?f.createElement("span",{className:r+"-close-text"},o):t):null},M=function(e){var n,o,s=e.description,a=e.prefixCls,c=e.message,d=e.banner,u=e.className,v=e.style,Z=e.onMouseEnter,w=e.onMouseLeave,x=e.onClick,b=e.afterClose,y=e.showIcon,C=e.closable,E=e.closeText,S=e.closeIcon,I=void 0===S?f.createElement(l.Z,null):S,P=e.action,j=_(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),k=f.useState(!1),z=(0,t.Z)(k,2),M=z[0],O=z[1],T=f.useRef(),L=f.useContext(g.E_),W=L.getPrefixCls,R=L.direction,q=W("alert",a),G=N(q),X=(0,t.Z)(G,2),A=X[0],D=X[1],$=function(e){var n;O(!0),null===(n=j.onClose)||void 0===n||n.call(j,e)},U=!!E||C,F=void 0!==(n=j.type)?n:d?"warning":"info",V=!!d&&void 0===y||y,Y=m()(q,q+"-"+F,(o={},(0,i.Z)(o,q+"-with-description",!!s),(0,i.Z)(o,q+"-no-icon",!V),(0,i.Z)(o,q+"-banner",!!d),(0,i.Z)(o,q+"-rtl","rtl"===R),o),void 0===u?"":u,D),J=(0,h.Z)(j);return A(f.createElement(p.Z,{visible:!M,motionName:q+"-motion",motionAppear:!1,motionEnter:!1,onLeaveStart:function(e){return{maxHeight:e.offsetHeight}},onLeaveEnd:b},function(e){var n=e.className,o=e.style;return f.createElement("div",(0,r.Z)({ref:T,"data-show":!M,className:m()(Y,n),style:(0,r.Z)((0,r.Z)({},v),o),onMouseEnter:Z,onMouseLeave:w,onClick:x,role:"alert"},J),V?f.createElement(B,{description:s,icon:j.icon,prefixCls:q,type:F}):null,f.createElement("div",{className:q+"-content"},c?f.createElement("div",{className:q+"-message"},c):null,s?f.createElement("div",{className:q+"-description"},s):null),P?f.createElement("div",{className:q+"-action"},P):null,f.createElement(H,{isClosable:!!U,closeText:E,prefixCls:q,closeIcon:I,handleClose:$}))}))};M.ErrorBoundary=y;var O=M},33122:function(e,n,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/change-password",function(){return o(23827)}])},23827:function(e,n,o){"use strict";o.r(n);var r=o(85893),t=o(80442),i=o(24016),s=o(99138),a=o(71577),l=o(31955),c=o(11163),d=o(67294),u=o(88767),m=o(94907),p=o(18816),f=o(60144);let g={required:"Required field!",string:{min:"Must be at least ${min} characters"},pattern:{mismatch:"Password is too weak, must have capital letters, numbers and symbols."}},h=e=>{let[n,o]=(0,d.useState)(null),h=(0,u.useMutation)(e=>(0,p.Cp)(e)),v=(0,c.useRouter)(),Z=e=>{h.mutate(e,{onSuccess(e){o(null),l.Z.remove("token"),v.push("login")},onError(e){var n,r,t,i;let s=null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.errors,a=null==s?void 0:s.map(e=>"".concat(Object.values(e.errors),"\n")),l=null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(i=t.data)||void 0===i?void 0:i.message;o(a||l)}})};return(0,r.jsx)(m.Xs,{children:(0,r.jsxs)(m.Hf,{children:[(0,r.jsx)(m.Uu,{}),(0,r.jsx)(m.w2,{}),(0,r.jsxs)(m.U$,{children:[(0,r.jsx)("h3",{children:"Change Password"}),(0,r.jsxs)(t.Z,{validateMessages:g,onFinish:Z,children:[(0,r.jsx)(t.Z.Item,{name:"currentPassword",rules:[{required:!0,message:"Please input your current password!"}],children:(0,r.jsx)(i.Z.Password,{placeholder:"Current Password",name:"currentPassword"})}),(0,r.jsx)(t.Z.Item,{name:"newPassword",rules:[{type:"string",required:!0,min:8,pattern:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[*.!@#$%^&(){}[\]:;<>,.?/~_+\-=|]).{8,32}$/}],children:(0,r.jsx)(i.Z.Password,{placeholder:"New Password",name:"newPassword"})}),(0,r.jsx)(t.Z.Item,{name:"confirmPassword",dependencies:["newPassword"],rules:[{required:!0,message:"Please confirm password!"},e=>{let{getFieldValue:n}=e;return{validator:(e,o)=>o&&n("newPassword")!==o?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}],children:(0,r.jsx)(i.Z.Password,{placeholder:"Confirm Password",name:"confirmPassword"})}),n&&(0,r.jsxs)("div",{children:[(0,r.jsx)(s.Z,{type:"error",message:n,banner:!0}),(0,r.jsx)("br",{})]}),(0,r.jsx)(t.Z.Item,{children:(0,r.jsx)(a.Z,{style:{width:"100%",backgroundColor:f.w.PRIMARY,color:"#fff"},size:"large",type:"primary",htmlType:"submit",children:"Submit"})})]})]})]})})};n.default=h}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=33122)}),_N_E=e.O()}]);