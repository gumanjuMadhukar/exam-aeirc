(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1034],{5467:function(e,n,o){"use strict";function t(e){return Object.keys(e).reduce(function(n,o){return(o.startsWith("data-")||o.startsWith("aria-")||"role"===o)&&!o.startsWith("data-__")&&(n[o]=e[o]),n},{})}o.d(n,{Z:function(){return t}})},99138:function(e,n,o){"use strict";o.d(n,{Z:function(){return M}});var t=o(87462),r=o(97685),i=o(4942),l=o(89739),a=o(4340),s=o(97937),c=o(21640),u=o(78860),d=o(94184),m=o.n(d),p=o(62874),f=o(67294),g=o(53124),h=o(5467),v=o(96159),x=o(15671),Z=o(43144),b=o(60136),y=o(73568),E=function(e){(0,b.Z)(o,e);var n=(0,y.Z)(o);function o(){var e;return(0,x.Z)(this,o),e=n.apply(this,arguments),e.state={error:void 0,info:{componentStack:""}},e}return(0,Z.Z)(o,[{key:"componentDidCatch",value:function(e,n){this.setState({error:e,info:n})}},{key:"render",value:function(){var e=this.props,n=e.message,o=e.description,t=e.children,r=this.state,i=r.error,l=r.info,a=l&&l.componentStack?l.componentStack:null,s=void 0===n?(i||"").toString():n;return i?f.createElement(M,{type:"error",message:s,description:f.createElement("pre",null,void 0===o?a:o)}):t}}]),o}(f.Component),S=o(67968),C=o(45503),j=o(14747),w=function(e,n,o,t,r){return(0,i.Z)({backgroundColor:e,border:t.lineWidth+"px "+t.lineType+" "+n},r+"-icon",{color:o})},I=function(e){var n,o,r,l=e.componentCls,a=e.motionDurationSlow,s=e.marginXS,c=e.marginSM,u=e.fontSize,d=e.fontSizeLG,m=e.lineHeight,p=e.borderRadiusLG,f=e.motionEaseInOutCirc,g=e.alertIconSizeLG,h=e.colorText,v=e.paddingContentVerticalSM,x=e.alertPaddingHorizontal,Z=e.paddingMD,b=e.paddingContentHorizontalLG;return r={},(0,i.Z)(r,l,(0,t.Z)((0,t.Z)({},(0,j.Wf)(e)),(n={position:"relative",display:"flex",alignItems:"center",padding:v+"px "+x+"px",wordWrap:"break-word",borderRadius:p,"&&-rtl":{direction:"rtl"}},(0,i.Z)(n,l+"-content",{flex:1,minWidth:0}),(0,i.Z)(n,l+"-icon",{marginInlineEnd:s,lineHeight:0}),(0,i.Z)(n,"&-description",{display:"none",fontSize:u,lineHeight:m}),(0,i.Z)(n,"&-message",{color:h}),(0,i.Z)(n,"&&-motion-leave",{overflow:"hidden",opacity:1,transition:"max-height "+a+" "+f+", opacity "+a+" "+f+",\n        padding-top "+a+" "+f+", padding-bottom "+a+" "+f+",\n        margin-bottom "+a+" "+f}),(0,i.Z)(n,"&&-motion-leave-active",{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}),n))),(0,i.Z)(r,l+"-with-description",(o={alignItems:"flex-start",paddingInline:b,paddingBlock:Z},(0,i.Z)(o,l+"-icon",{marginInlineEnd:c,fontSize:g,lineHeight:0}),(0,i.Z)(o,l+"-message",{display:"block",marginBottom:s,color:h,fontSize:d}),(0,i.Z)(o,l+"-description",{display:"block"}),o)),(0,i.Z)(r,l+"-banner",{marginBottom:0,border:"0 !important",borderRadius:0}),r},N=function(e){var n=e.componentCls,o=e.colorSuccess,r=e.colorSuccessBorder,l=e.colorSuccessBg,a=e.colorWarning,s=e.colorWarningBorder,c=e.colorWarningBg,u=e.colorError,d=e.colorErrorBorder,m=e.colorErrorBg,p=e.colorInfo,f=e.colorInfoBorder,g=e.colorInfoBg;return(0,i.Z)({},n,{"&-success":w(l,r,o,e,n),"&-info":w(g,f,p,e,n),"&-warning":w(c,s,a,e,n),"&-error":(0,t.Z)((0,t.Z)({},w(m,d,u,e,n)),(0,i.Z)({},n+"-description > pre",{margin:0,padding:0}))})},k=function(e){var n,o=e.componentCls,t=e.iconCls,r=e.motionDurationMid,l=e.marginXS,a=e.fontSizeIcon,s=e.colorIcon,c=e.colorIconHover;return(0,i.Z)({},o,(n={},(0,i.Z)(n,"&-action",{marginInlineStart:l}),(0,i.Z)(n,o+"-close-icon",(0,i.Z)({marginInlineStart:l,padding:0,overflow:"hidden",fontSize:a,lineHeight:a+"px",backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer"},t+"-close",{color:s,transition:"color "+r,"&:hover":{color:c}})),(0,i.Z)(n,"&-close-text",{color:s,transition:"color "+r,"&:hover":{color:c}}),n))},P=(0,S.Z)("Alert",function(e){var n,o=e.fontSizeHeading3;return[[I(n=(0,C.TS)(e,{alertIconSizeLG:o,alertPaddingHorizontal:12})),N(n),k(n)]]}),O=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&0>n.indexOf(t)&&(o[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)0>n.indexOf(t[r])&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(o[t[r]]=e[t[r]]);return o},T={success:l.Z,info:u.Z,error:a.Z,warning:c.Z},z=function(e){var n=e.icon,o=e.prefixCls,t=T[e.type]||null;return n?(0,v.wm)(n,f.createElement("span",{className:o+"-icon"},n),function(){return{className:m()(o+"-icon",(0,i.Z)({},n.props.className,n.props.className))}}):f.createElement(t,{className:o+"-icon"})},_=function(e){var n=e.isClosable,o=e.closeText,t=e.prefixCls,r=e.closeIcon,i=e.handleClose;return n?f.createElement("button",{type:"button",onClick:i,className:t+"-close-icon",tabIndex:0},o?f.createElement("span",{className:t+"-close-text"},o):r):null},B=function(e){var n,o,l=e.description,a=e.prefixCls,c=e.message,u=e.banner,d=e.className,v=e.style,x=e.onMouseEnter,Z=e.onMouseLeave,b=e.onClick,y=e.afterClose,E=e.showIcon,S=e.closable,C=e.closeText,j=e.closeIcon,w=void 0===j?f.createElement(s.Z,null):j,I=e.action,N=O(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),k=f.useState(!1),T=(0,r.Z)(k,2),B=T[0],M=T[1],H=f.useRef(),L=f.useContext(g.E_),R=L.getPrefixCls,W=L.direction,D=R("alert",a),A=P(D),F=(0,r.Z)(A,2),G=F[0],X=F[1],V=function(e){var n;M(!0),null===(n=N.onClose)||void 0===n||n.call(N,e)},q=!!C||S,U=void 0!==(n=N.type)?n:u?"warning":"info",Y=!!u&&void 0===E||E,$=m()(D,D+"-"+U,(o={},(0,i.Z)(o,D+"-with-description",!!l),(0,i.Z)(o,D+"-no-icon",!Y),(0,i.Z)(o,D+"-banner",!!u),(0,i.Z)(o,D+"-rtl","rtl"===W),o),void 0===d?"":d,X),J=(0,h.Z)(N);return G(f.createElement(p.Z,{visible:!B,motionName:D+"-motion",motionAppear:!1,motionEnter:!1,onLeaveStart:function(e){return{maxHeight:e.offsetHeight}},onLeaveEnd:y},function(e){var n=e.className,o=e.style;return f.createElement("div",(0,t.Z)({ref:H,"data-show":!B,className:m()($,n),style:(0,t.Z)((0,t.Z)({},v),o),onMouseEnter:x,onMouseLeave:Z,onClick:b,role:"alert"},J),Y?f.createElement(z,{description:l,icon:N.icon,prefixCls:D,type:U}):null,f.createElement("div",{className:D+"-content"},c?f.createElement("div",{className:D+"-message"},c):null,l?f.createElement("div",{className:D+"-description"},l):null),I?f.createElement("div",{className:D+"-action"},I):null,f.createElement(_,{isClosable:!!q,closeText:C,prefixCls:D,closeIcon:w,handleClose:V}))}))};B.ErrorBoundary=E;var M=B},31276:function(e,n,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/reset-verification/[...verification]",function(){return o(75965)}])},41699:function(e,n,o){"use strict";var t=o(85893),r=o(94907);let i=e=>{let{children:n}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(r.Xs,{children:[(0,t.jsx)(r.n4,{children:(0,t.jsx)("img",{src:"/nextly-logo.svg",alt:"logo",width:"168px"})}),(0,t.jsxs)(r.Hf,{children:[(0,t.jsx)(r.Uu,{children:(0,t.jsx)("img",{src:"/password-login.svg",alt:"login-image"})}),(0,t.jsx)(r.w2,{}),(0,t.jsx)(r.U$,{children:n})]})]})})};n.Z=i},75965:function(e,n,o){"use strict";o.r(n);var t=o(85893),r=o(80442),i=o(24016),l=o(99138),a=o(71577),s=o(67294),c=o(11163),u=o(88767),d=o(18816),m=o(41699),p=o(9008),f=o.n(p),g=o(60144);let h=()=>{let[e,n]=(0,s.useState)(null),[o,m]=(0,s.useState)(180),[p,h]=(0,s.useState)(!1),v=(0,c.useRouter)(),{verification:x}=v.query,Z=(0,u.useMutation)(e=>(0,d.P_)(e)),b=(0,u.useMutation)(e=>(0,d.ub)(e));(0,s.useEffect)(()=>{if(o<=0){h(!0);return}let e=setInterval(()=>{m(e=>e-1)},1e3);return()=>clearInterval(e)},[o]);let y=Math.floor(o/60),E=o%60,S=e=>{let o=Number(x),{otp:t}=e,r=Number(t);Z.mutate({otp:r,userId:o},{onSuccess(e){n(null),localStorage.removeItem("resetEmail"),v.push("/auth/reset-password/".concat(o))},onError(e){var o,t;let r=null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.message;n(r)}})},C=()=>{let e={email:localStorage.getItem("resetEmail")||""};b.mutate(e,{onSuccess(){h(!1),m(180),n(null)},onError(e){var o,t;let r=null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.message;n(r)}})},j=(e,n)=>4!==n.length?Promise.reject("The input value must be exactly 4 characters"):Promise.resolve();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f(),{children:(0,t.jsx)("title",{children:"Reset Password Verification"})}),(0,t.jsx)("h2",{style:{fontSize:"30px",margin:"0"},children:"Verification Code"}),(0,t.jsx)("p",{children:"Please enter the verification code"}),(0,t.jsxs)(r.Z,{onFinish:S,autoComplete:"off",children:[(0,t.jsx)(r.Z.Item,{name:"otp",rules:[{required:!0,message:"Please input OTP sent in your email!"},{message:"OTP must be 4 characters.",validator:j}],validateTrigger:"onSubmit",children:(0,t.jsx)(i.Z,{type:"text",size:"large",placeholder:"Enter OTP",autoComplete:"false",onChange:()=>n(null)})}),!p&&(0,t.jsxs)("p",{style:{color:"#1890FF"},children:[y<10?"0"+y:y,":",E<10?"0"+E:E]}),e&&(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Z,{type:"error",message:e,banner:!0}),(0,t.jsx)("br",{})]}),(0,t.jsxs)("span",{children:["Didn't receive the OTP?\xa0",(0,t.jsx)("a",{style:{color:p?g.w.PRIMARY:g.w.DISABLED,pointerEvents:p?"auto":"none",cursor:p?"pointer":"not-allowed"},onClick:C,children:"Resend OTP"})]}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)(r.Z.Item,{children:(0,t.jsx)(a.Z,{style:{width:"100%",backgroundColor:g.w.PRIMARY,color:"#fff"},size:"large",htmlType:"submit",children:"Verify Now"})})]})]})};h.getLayout=function(e){return(0,t.jsx)(m.Z,{children:e})},n.default=h},9008:function(e,n,o){e.exports=o(83121)}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=31276)}),_N_E=e.O()}]);