(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6813],{52416:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dir/program/[programContentId]",function(){return s(90532)}])},90532:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return H}});var t=s(7297),r=s(85893),a=s(94589),o=s(13013),l=s(27790),i=s(75527),d=s(71577),c=s(71230),u=s(15746),m=s(24016),h=s(88577),x=s(41664),p=s.n(x),j=s(99611),g=s(1413),v=s(67294),Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},f=s(42135),C=function(e,n){return v.createElement(f.Z,(0,g.Z)((0,g.Z)({},e),{},{ref:n,icon:Z}))};C.displayName="EditOutlined";var w=v.forwardRef(C),y=s(48689),b=s(89705),P=s(88360),S=s(81660),_=s(69120),N=s(28189),R=s(88767),k=s(11163),I=s(9166),E=s(60144),M=s(28068),L=s(80442),A=s(64187);function T(){let e=(0,t.Z)(["\n  float: right;\n  margin-top: 10px;\n  right: 0;\n"]);return T=function(){return e},e}let q=e=>{let{isModalOpen:n,handleCancel:s,subject_id:t}=e,a=(0,R.useQueryClient)(),o=(0,R.useMutation)(e=>(0,N.YP)(e),{onSuccess(){a.invalidateQueries(["rebateList"]),s(),i.resetFields(),l.ZP.success("Rebate have been created successfully")},onError(e){var n,s;let t=null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(s=n.data)||void 0===s?void 0:s.message;l.ZP.error(t)}}),[i]=L.Z.useForm(),h=e=>{let n={...e,subject_id:t};o.mutate(n)};return(0,r.jsx)(A.Z,{title:"Add Course Content",open:n,onCancel:s,footer:null,width:"30vw",className:"modal-content-responsive",children:(0,r.jsx)(L.Z,{form:i,preserve:!1,layout:"vertical",onFinish:h,autoComplete:"off",children:(0,r.jsxs)(c.Z,{style:{justifyContent:"space-between"},children:[(0,r.jsx)(u.Z,{lg:24,xs:24,md:24,children:(0,r.jsx)(L.Z.Item,{label:"Program Content Name",name:"name",rules:[{required:!0,message:"Please enter program content name!"}],children:(0,r.jsx)(m.Z,{})})}),(0,r.jsx)(u.Z,{lg:24,xs:24,md:24,children:(0,r.jsx)(L.Z.Item,{label:"Number of question to allocate.",name:"question_count",rules:[{required:!0,message:"Please enter number of question to allocate from here!"}],children:(0,r.jsx)(m.Z,{})})}),(0,r.jsx)(u.Z,{xs:24,style:{marginTop:"50px"},children:(0,r.jsxs)(z,{children:[(0,r.jsx)(d.Z,{size:"large",onClick:s,children:"Cancel"}),(0,r.jsx)(d.Z,{style:{backgroundColor:E.w.PRIMARY,color:"#fff",marginLeft:"10px"},size:"large",htmlType:"submit",children:"Save"})]})})]})})})},z=a.ZP.div(T());var O=s(46040);function Q(){let e=(0,t.Z)([""]);return Q=function(){return e},e}let Y={currentPage:_.D0,pageSize:_.L8,status:"true",search:"",subject_id:""},B=e=>{let{openCloseEditModal:n,openCloseDeleteLeaveModal:s,id:t,programContentId:a}=e,l=[{key:"1",label:(0,r.jsxs)(p(),{href:"/dir/program/".concat(a,"/").concat(t),children:[(0,r.jsx)(j.Z,{})," View"]})},{key:"2",label:(0,r.jsxs)("div",{onClick:()=>n(t),children:[(0,r.jsx)(w,{})," Edit"]})},{key:"3",label:(0,r.jsxs)("div",{onClick:()=>s(t),children:[(0,r.jsx)(y.Z,{})," Delete"]})}];return(0,r.jsx)(o.Z,{menu:{items:l},placement:"bottom",arrow:!0,children:(0,r.jsx)(b.Z,{className:"rotate-90"})})},D=a.ZP.div(Q()),F=()=>{var e,n;let[s,t]=(0,v.useState)(""),a=(0,k.useRouter)(),o=new N.ZP,[x,j]=(0,v.useState)(!1),[g,Z]=(0,v.useState)(!1),[f,C]=(0,v.useState)(!1),w=(0,R.useQueryClient)(),{programContentId:y}=a.query,b=()=>{j(!x)},_=()=>{Z(!g)},L=()=>{C(!f)},[A,T]=(0,v.useState)(!1),[z,Q]=(0,v.useState)(""),F=e=>{e?Q(e):Q(""),T(!A)},[H,G]=(0,v.useState)(Y),{data:X}=(0,R.useQuery)(["CourseContent",{filterParams:H,id:y}],N.RC,{enabled:!!y}),K=(0,R.useMutation)(e=>o.destroy(e)),V=()=>{K.mutate(z,{onSuccess(){w.invalidateQueries(["ProgramList"]),l.ZP.success("Removed Program Successfully"),F()},onError(e){var n,s;let t=null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(s=n.data)||void 0===s?void 0:s.message;l.ZP.error(t)}})};return(0,r.jsxs)(D,{children:[(0,r.jsxs)(I.mr,{children:[(0,r.jsxs)(I.rm,{children:[(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(i.Z.Item,{children:(0,r.jsx)(p(),{href:"/dashboard",children:"Home"})}),(0,r.jsx)(i.Z.Item,{children:(0,r.jsx)("span",{style:{color:E.w.BLACK},children:"Program"})})]}),(0,r.jsxs)(I.oY,{children:[(0,r.jsx)("h2",{children:"Program"}),(0,r.jsx)("div",{children:(0,r.jsx)(d.Z,{style:{background:E.w.COLOR_PRIMARY_BG,boxShadow:"none",color:E.w.WHITE},icon:(0,r.jsx)(P.Z,{}),onClick:b,children:"Add New Course Content"})})]})]}),(0,r.jsx)(I.E1,{children:(0,r.jsx)(I.A_,{children:(0,r.jsxs)(c.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,r.jsx)(u.Z,{span:12,xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},children:(0,r.jsx)(m.Z,{name:"search",id:"search",type:"text",placeholder:"Search By Name",autoComplete:"false",value:s,onChange:e=>t(e.target.value)})}),(0,r.jsx)(u.Z,{span:6,xs:{span:12},sm:{span:12},md:{span:6},lg:{span:6},className:"search-col-margin",children:(0,r.jsx)(d.Z,{type:"ghost",ghost:!0,style:{boxShadow:"none",borderColor:E.w.PRIMARY,color:E.w.PRIMARY,width:"100%"},onClick(){t(""),G(Y)},children:"Reset"})}),(0,r.jsx)(u.Z,{span:6,xs:{span:12},sm:{span:12},md:{span:6},lg:{span:6},className:"search-col-margin",children:(0,r.jsx)(d.Z,{type:"primary",style:{boxShadow:"none",width:"100%"},children:"Search"})})]})})})]}),(0,r.jsx)(I.Y3,{children:(0,r.jsx)(h.Z,{columns:[{title:"Name",key:"name",dataIndex:"name",responsive:["sm","md","lg"]},{title:"Question to allocate",dataIndex:"question_count",responsive:["sm","md","lg"]},{title:"Total Question",dataIndex:"question_count",responsive:["sm","md","lg"]},{title:"",dataIndex:"",render:e=>(0,r.jsx)(B,{openCloseEditModal:L,openCloseDeleteLeaveModal:F,id:e.id,programContentId:y||""})}],dataSource:null==X?void 0:X.data,scroll:{x:1e3},style:{cursor:"pointer"},pagination:(null==X?void 0:null===(e=X.meta)||void 0===e?void 0:e.total)>10&&{defaultPageSize:10,total:null==X?void 0:null===(n=X.meta)||void 0===n?void 0:n.total,hideOnSinglePage:!0,showSizeChanger:!0,showTotal:(e,n)=>"".concat(n[0],"-").concat(n[1]," of ").concat(e," items"),onChange(e,n){G({...H,currentPage:e,pageSize:n})},className:"bg-white-halfrem",responsive:!0}})}),(0,r.jsx)(M.Z,{buttonTitle:"Confirm",openCloseModal:F,open:A,confirmText:"remove the document",onConfirmModal:V,icon:(0,r.jsx)(S.Z,{style:{color:E.w.DANGER}})}),(0,r.jsx)(q,{handleCancel:b,isModalOpen:x,subject_id:y||""}),(0,r.jsx)(O.n,{handleCancel:_,isModalOpen:g})]})};var H=F}},function(e){e.O(0,[2808,8045,8668,2345,4935,9774,2888,179],function(){return e(e.s=52416)}),_N_E=e.O()}]);