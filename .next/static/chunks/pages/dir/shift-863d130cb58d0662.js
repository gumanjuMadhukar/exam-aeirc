(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[533],{44998:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dir/shift",function(){return n(20529)}])},69120:function(e,t,n){"use strict";n.d(t,{D0:function(){return s},L8:function(){return r}}),n(85893);let s=1,r=10},20529:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var s=n(7297),r=n(85893),a=n(94589),i=n(13013),l=n(75527),d=n(71577),o=n(71230),u=n(15746),c=n(24016),m=n(88577),h=n(41664),x=n.n(h),f=n(99611),p=n(48689),g=n(89705),Z=n(88360),j=n(67294),v=n(69120),w=n(88767),P=n(9166),y=n(60144),_=n(27836);let b=async e=>{let{queryKey:t}=e,[,n]=t,s={page:n.filterParams.currentPage,limit:n.filterParams.pageSize};n.filterParams.date&&(s.date=n.filterParams.date),n.filterParams.search&&(s.search=n.filterParams.search),n.filterParams.status&&(s.status=n.filterParams.status);let r=await (0,_.Z)({url:"/shift",method:"get",params:s});return null==r?void 0:r.data},S=async e=>{let t=await (0,_.Z)({url:"/shift",method:"post",data:e});return t};var I=n(27790),C=n(80442),k=n(64187),M=n(93393),T=n(68351),N=n(27484),E=n.n(N);function Y(){let e=(0,s.Z)(["\n  float: right;\n  margin-top: 10px;\n  right: 0;\n"]);return Y=function(){return e},e}let R=e=>{let{isModalOpen:t,handleCancel:n}=e,s=(0,w.useQueryClient)(),a=(0,w.useMutation)(e=>S(e),{onSuccess(){s.invalidateQueries(["rebateList"]),n(),i.resetFields(),I.ZP.success("Rebate have been created successfully")},onError(e){var t,n;let s=null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message;I.ZP.error(s)}}),[i]=C.Z.useForm(),l=e=>{let t={...e,total_students:parseInt(e.total_students,10),tolerance_time:parseInt(e.tolerance_time,10),date:E()(e.date).format("YYYY-MM-DD"),start_time:E()(e.start_datetime).format("HH:MM:ss"),end_time:E()(e.end_datetime).format("HH:MM:ss")};a.mutate(t)};return(0,r.jsx)(k.Z,{title:"Add New Shift",open:t,onCancel:n,footer:null,width:"30vw",className:"modal-content-responsive",children:(0,r.jsx)(C.Z,{form:i,preserve:!1,layout:"vertical",onFinish:l,autoComplete:"off",children:(0,r.jsxs)(o.Z,{style:{justifyContent:"space-between"},children:[(0,r.jsx)(u.Z,{lg:24,xs:24,md:24,children:(0,r.jsx)(C.Z.Item,{label:"Shift Name",name:"name",rules:[{required:!0,message:"Please enter shift name!"}],children:(0,r.jsx)(c.Z,{})})}),(0,r.jsx)(u.Z,{lg:24,xs:24,md:24,children:(0,r.jsx)(C.Z.Item,{label:"Total Student Capacity",name:"total_students",rules:[{required:!0,message:"Please enter total number of student to allocate!"}],children:(0,r.jsx)(c.Z,{})})}),(0,r.jsx)(u.Z,{lg:24,xs:24,md:24,children:(0,r.jsx)(C.Z.Item,{label:"Tolerance Time (in minutes)",name:"tolerance_time",rules:[{required:!0,message:"Please enter tolerance time in minutes!"}],children:(0,r.jsx)(c.Z,{})})}),(0,r.jsx)(u.Z,{lg:24,xs:24,md:24,children:(0,r.jsx)(C.Z.Item,{label:"Date",name:"date",rules:[{required:!0,message:"Please enter tolerance time in minutes!"}],children:(0,r.jsx)(M.Z,{})})}),(0,r.jsx)(u.Z,{lg:12,xs:12,md:12,children:(0,r.jsx)(C.Z.Item,{label:"Start Time.",name:"start_datetime",rules:[{required:!0,message:"Please enter number of question to allocate from here!"}],children:(0,r.jsx)(T.Z,{defaultValue:E()("12:08:23","HH:mm:ss"),size:"large"})})}),(0,r.jsx)(u.Z,{lg:12,xs:12,md:12,children:(0,r.jsx)(C.Z.Item,{label:"End Time",name:"end_datetime",rules:[{required:!0,message:"Please enter number of question to allocate from here!"}],children:(0,r.jsx)(T.Z,{defaultValue:E()("12:08:23","HH:mm:ss"),size:"large"})})}),(0,r.jsx)(u.Z,{xs:24,style:{marginTop:"50px"},children:(0,r.jsxs)(D,{children:[(0,r.jsx)(d.Z,{size:"large",onClick:n,children:"Cancel"}),(0,r.jsx)(d.Z,{style:{backgroundColor:y.w.PRIMARY,color:"#fff",marginLeft:"10px"},size:"large",htmlType:"submit",children:"Save"})]})})]})})})},D=a.ZP.div(Y());function H(){let e=(0,s.Z)([""]);return H=function(){return e},e}let q={currentPage:v.D0,pageSize:v.L8,status:"true",search:""},A=e=>{let{openCloseDeleteLeaveModal:t,id:n}=e,s=[{key:"1",label:(0,r.jsxs)(x(),{href:"question/".concat(n),children:[(0,r.jsx)(f.Z,{})," View"]})},{key:"2",label:(0,r.jsxs)("div",{onClick:()=>t(n),children:[(0,r.jsx)(p.Z,{})," Delete"]})}];return(0,r.jsx)(i.Z,{menu:{items:s},placement:"bottom",arrow:!0,children:(0,r.jsx)(g.Z,{className:"rotate-90"})})},L=()=>{let[e,t]=(0,j.useState)(""),[n,s]=(0,j.useState)(!1),[a,i]=(0,j.useState)(!1),[h,f]=(0,j.useState)(!1),p=()=>{s(!n)},[g,_]=(0,j.useState)(!1),[S,I]=(0,j.useState)(""),C=e=>{e?I(e):I(""),_(!g)},[k,M]=(0,j.useState)(q),{data:T}=(0,w.useQuery)(["Shift",{filterParams:k}],b),N=t=>{M(t=>({...t,currentPage:v.D0,search:e}))},E=e=>{I(e),i(!0)},Y=e=>{I(e),f(!0)};return(0,r.jsxs)(O,{children:[(0,r.jsxs)(P.mr,{children:[(0,r.jsxs)(P.rm,{children:[(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(l.Z.Item,{children:(0,r.jsx)(x(),{href:"/dashboard",children:"Home"})}),(0,r.jsx)(l.Z.Item,{children:(0,r.jsx)("span",{style:{color:y.w.BLACK},children:"Shift"})})]}),(0,r.jsxs)(P.oY,{children:[(0,r.jsx)("h2",{children:"Shift"}),(0,r.jsx)(d.Z,{style:{background:y.w.COLOR_PRIMARY_BG,boxShadow:"none",color:y.w.WHITE},icon:(0,r.jsx)(Z.Z,{}),onClick:p,children:"Add Shift"})]})]}),(0,r.jsx)(P.E1,{children:(0,r.jsx)(P.A_,{children:(0,r.jsxs)(o.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,r.jsx)(u.Z,{span:12,xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},children:(0,r.jsx)(c.Z,{name:"search",id:"search",type:"text",placeholder:"Search By Name",autoComplete:"false",value:e,onChange:e=>t(e.target.value)})}),(0,r.jsx)(u.Z,{span:6,xs:{span:12},sm:{span:12},md:{span:6},lg:{span:6},className:"search-col-margin",children:(0,r.jsx)(d.Z,{type:"ghost",ghost:!0,style:{boxShadow:"none",borderColor:y.w.PRIMARY,color:y.w.PRIMARY,width:"100%"},onClick(){t(""),M(q)},children:"Reset"})}),(0,r.jsx)(u.Z,{span:6,xs:{span:12},sm:{span:12},md:{span:6},lg:{span:6},className:"search-col-margin",children:(0,r.jsx)(d.Z,{type:"primary",style:{boxShadow:"none",width:"100%"},onClick:N,children:"Search"})})]})})})]}),(0,r.jsx)(P.Y3,{children:(0,r.jsx)(m.Z,{columns:[{title:"Name",key:"name",dataIndex:"name",responsive:["sm","md","lg"]},{title:"Date",dataIndex:"date",responsive:["sm","md","lg"]},{title:"Start Date ",dataIndex:"start_time",responsive:["sm","md","lg"]},{title:"Total Capacity",dataIndex:"total_students",responsive:["sm","md","lg"]},{title:"Tolerance Time",dataIndex:"tolerance_time",responsive:["sm","md","lg"]},{title:"Status",dataIndex:"status",responsive:["sm","md","lg"]},{title:"Shift End Time",dataIndex:"end_time",responsive:["sm","md","lg"]},{title:"",dataIndex:"",render:e=>(0,r.jsx)(A,{showModalView:E,showModalEdit:Y,openCloseDeleteLeaveModal:C,id:e.id})}],dataSource:T,scroll:{x:1e3},style:{cursor:"pointer"}})}),(0,r.jsx)(R,{handleCancel:p,isModalOpen:n})]})};var z=L;let O=a.ZP.div(H())},9166:function(e,t,n){"use strict";n.d(t,{A_:function(){return p},E1:function(){return f},Y3:function(){return g},mr:function(){return m},oY:function(){return x},rm:function(){return h}});var s=n(7297),r=n(94589);function a(){let e=(0,s.Z)([""]);return a=function(){return e},e}function i(){let e=(0,s.Z)(["\n  border-top: 1px solid rgba(0, 0, 0, 0.2);\n"]);return i=function(){return e},e}function l(){let e=(0,s.Z)(["\n  background: #fff;\n  padding: 24px;\n"]);return l=function(){return e},e}function d(){let e=(0,s.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  @media (max-width: 480px) {\n    display: flex;\n    flex-wrap: wrap;\n  }\n"]);return d=function(){return e},e}function o(){let e=(0,s.Z)(["\n  background: #fff;\n  margin: 24px;\n  height: 64px;\n  @media (max-width: 762px) {\n    overflow-wrap: anywhere;\n    height: auto;\n  }\n"]);return o=function(){return e},e}function u(){let e=(0,s.Z)(["\n  padding: 16px;\n  line-height: 20px;\n\n  // display: grid;\n  // gap: 20px;\n  align-items: center;\n  // justify-content: center;\n"]);return u=function(){return e},e}function c(){let e=(0,s.Z)(["\n  padding: 24px;\n  padding-top: 0;\n"]);return c=function(){return e},e}r.ZP.div(a());let m=r.ZP.div(i()),h=r.ZP.div(l()),x=r.ZP.div(d()),f=r.ZP.div(o()),p=r.ZP.div(u()),g=r.ZP.div(c())}},function(e){e.O(0,[2808,8045,8668,2255,9774,2888,179],function(){return e(e.s=44998)}),_N_E=e.O()}]);