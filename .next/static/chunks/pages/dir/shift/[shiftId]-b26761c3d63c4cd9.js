(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7196],{78113:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dir/shift/[shiftId]",function(){return t(91694)}])},91694:function(e,s,t){"use strict";t.r(s);var n=t(7297),o=t(85893),a=t(94589),i=t(13013),l=t(27790),r=t(75527),d=t(71577),c=t(71230),u=t(15746),h=t(24016),m=t(88577),p=t(51904),x=t(41664),v=t.n(x),j=t(99611),g=t(48689),w=t(89705),Z=t(88360),f=t(81660),S=t(67294),y=t(69120),_=t(8392),C=t(88767),P=t(11163),b=t(9166),k=t(60144),Q=t(28068),N=t(6003),I=t(28189);function R(){let e=(0,n.Z)([""]);return R=function(){return e},e}function E(){let e=(0,n.Z)(["\n  margin-left: 15px;\n"]);return E=function(){return e},e}let M={currentPage:y.D0,pageSize:y.L8,status:"true",search:""},O=e=>{let{showModalView:s,showModalEdit:t,openCloseDeleteLeaveModal:n,id:a}=e,l=[{key:"1",label:(0,o.jsxs)("div",{onClick:()=>s(a),children:[(0,o.jsx)(j.Z,{})," View Question"]})},{key:"2",label:(0,o.jsxs)("div",{onClick:()=>t(a),children:[(0,o.jsx)(j.Z,{})," View Students"]})},{key:"3",label:(0,o.jsxs)("div",{onClick:()=>n(a),children:[(0,o.jsx)(g.Z,{})," Delete"]})}];return(0,o.jsx)(i.Z,{menu:{items:l},placement:"bottom",arrow:!0,children:(0,o.jsx)(w.Z,{className:"rotate-90"})})},A=()=>{var e,s,t,n,a;let[i,p]=(0,S.useState)(""),x=(0,P.useRouter)(),{programId:j}=x.query,g=new I.ZP,w=new _.ZP,[y,R]=(0,S.useState)(!1),[E,A]=(0,S.useState)(!1),[z,Y]=(0,S.useState)(!1),q=(0,C.useQueryClient)(),B=()=>{R(!y)},[D,V]=(0,S.useState)(!1),[G,H]=(0,S.useState)(""),X=e=>{e?H(e):H(""),V(!D)},[K,W]=(0,S.useState)(M),F=(0,C.useQuery)(["QuestionList",{status:K.status,page:K.currentPage,limit:K.pageSize,search:K.search}],async()=>{let e={page:K.currentPage,limit:K.pageSize};K.search&&(e.search=K.search);let s=await w.getQuestionBasedOnSubject(j,K);return null==s?void 0:s.data}),J=null==F?void 0:null===(e=F.data)||void 0===e?void 0:e.data,U=null==F?void 0:null===(s=F.data)||void 0===s?void 0:s.meta,$=e=>{H(e),A(!0)},ee=e=>{H(e),Y(!0)},es=(0,C.useQuery)("program-list",()=>g.get(j).then(e=>e.data)),et=null==es?void 0:null===(t=es.data)||void 0===t?void 0:t.data,en=(0,C.useMutation)(e=>w.destroy(e)),eo=()=>{en.mutate(G,{onSuccess(){q.invalidateQueries(["QuestionList"]),l.ZP.success("Removed Question Successfull"),X()},onError(e){var s,t;let n=null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message;l.ZP.error(n)}})};return(0,o.jsxs)(T,{children:[(0,o.jsxs)(b.mr,{children:[(0,o.jsxs)(b.rm,{children:[(0,o.jsxs)(r.Z,{children:[(0,o.jsx)(r.Z.Item,{children:(0,o.jsx)(v(),{href:"/dashboard",children:"Home"})}),(0,o.jsx)(r.Z.Item,{children:(0,o.jsxs)("span",{style:{color:k.w.BLACK},children:["Question of ",null==et?void 0:et.name]})})]}),(0,o.jsxs)(b.oY,{children:[(0,o.jsxs)("h2",{children:["Question of ",null==et?void 0:et.name]}),(0,o.jsx)(d.Z,{style:{background:k.w.COLOR_PRIMARY_BG,boxShadow:"none",color:k.w.WHITE},icon:(0,o.jsx)(Z.Z,{}),onClick:B,children:"Import Question"})]})]}),(0,o.jsx)(b.E1,{children:(0,o.jsx)(b.A_,{children:(0,o.jsxs)(c.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,o.jsx)(u.Z,{span:12,xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},children:(0,o.jsx)(h.Z,{name:"search",id:"search",type:"text",placeholder:"Search By Name",autoComplete:"false",value:i,onChange:e=>p(e.target.value)})}),(0,o.jsx)(u.Z,{span:6,xs:{span:12},sm:{span:12},md:{span:6},lg:{span:6},className:"search-col-margin",children:(0,o.jsx)(d.Z,{type:"ghost",ghost:!0,style:{boxShadow:"none",borderColor:k.w.PRIMARY,color:k.w.PRIMARY,width:"100%"},onClick(){p(""),W(M)},children:"Reset"})}),(0,o.jsx)(u.Z,{span:6,xs:{span:12},sm:{span:12},md:{span:6},lg:{span:6},className:"search-col-margin",children:(0,o.jsx)(d.Z,{type:"primary",style:{boxShadow:"none",width:"100%"},children:"Search"})})]})})})]}),(0,o.jsx)(b.Y3,{children:(0,o.jsx)(m.Z,{columns:[{title:"S.N",render:(e,s,t)=>t+1,responsive:["sm","md","lg"]},{title:"Question",key:"question_text",dataIndex:"question_text",responsive:["sm","md","lg"]},{title:"Question Type",dataIndex:"question_type",responsive:["sm","md","lg"]},{title:"Options",render:e=>(0,o.jsx)("text",{children:e.options.map(e=>"".concat(e.option_text," : "))}),responsive:["sm","md","lg"]},,{title:"Correct Answer",render:e=>(0,o.jsx)("text",{children:e.options.map(s=>e.correct_answers.map(e=>{if(s.id===e.option_id)return(0,o.jsx)(L,{color:"success",children:s.option_text})}))}),responsive:["sm","md","lg"]},{title:"",dataIndex:"",render:e=>(0,o.jsx)(O,{showModalView:$,showModalEdit:ee,openCloseDeleteLeaveModal:X,id:e.id})}],dataSource:J,scroll:{x:1e3},pagination:(null==F?void 0:null===(n=F.data)||void 0===n?void 0:null===(a=n.meta)||void 0===a?void 0:a.total)>10&&{defaultPageSize:10,total:null==U?void 0:U.total,hideOnSinglePage:!0,showSizeChanger:!0,showTotal:(e,s)=>"".concat(s[0],"-").concat(s[1]," of ").concat(e," items"),onChange(e,s){W({...K,currentPage:e,pageSize:s})},className:"bg-white-halfrem",responsive:!0}})}),(0,o.jsx)(Q.Z,{buttonTitle:"Confirm",openCloseModal:X,open:D,confirmText:"remove the document",onConfirmModal:eo,icon:(0,o.jsx)(f.Z,{style:{color:k.w.DANGER}})}),(0,o.jsx)(N.i,{handleCancel:B,isModalOpen:y})]})};s.default=A;let T=a.ZP.div(R()),L=(0,a.ZP)(p.Z)(E())}},function(e){e.O(0,[2808,8045,8668,2345,3372,9774,2888,179],function(){return e(e.s=78113)}),_N_E=e.O()}]);