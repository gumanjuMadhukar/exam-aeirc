(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4280],{64082:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(1413),i=t(67294),o={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},s=t(42135),l=function(e,n){return i.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:o}))};l.displayName="InboxOutlined";var a=i.forwardRef(l)},56506:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dir/student",function(){return t(74131)}])},80237:function(e,n,t){"use strict";t.d(n,{Z:function(){return o},s:function(){return s}});var r=t(84545),i=t(27836);class o extends r.Z{getStudentBasedOnSubject(e){return(0,i.Z)({url:"/getStudentBasedOnSubject/".concat(e),method:"get"})}constructor(){super("student")}}function s(e){let{file:n,subject_id:t}=e,r=new FormData;return r.append("file",n[0]),r.append("subject_id",t),(0,i.Z)({url:"/importStudents",method:"post",data:r,headers:{"Content-Type":"multipart/form-data"}})}},28068:function(e,n,t){"use strict";var r=t(7297),i=t(85893),o=t(24016),s=t(64187),l=t(26713),a=t(67294),c=t(94589),u=t(60144);function d(){let e=(0,r.Z)(["\n  font-size: 16px;\n  font-weight: 700;\n  margin-top: 10px;\n"]);return d=function(){return e},e}function h(){let e=(0,r.Z)(["\n  margin-right: 10px;\n  font-size: 20px;\n"]);return h=function(){return e},e}function p(){let e=(0,r.Z)(["\n  margin-top: 10px;\n"]);return p=function(){return e},e}function m(){let e=(0,r.Z)(["\n  font-size: 12px;\n  color: ",";\n  font-weight: normal;\n  margin-bottom: 10px;\n"]);return m=function(){return e},e}function x(){let e=(0,r.Z)(["\n  color: ",";\n  font-size: 12px;\n  font-weight: normal;\n  margin-top: 10px;\n"]);return x=function(){return e},e}function f(){let e=(0,r.Z)(["\n  font-weight: normal;\n  color: ",";\n  font-size: 14px;\n"]);return f=function(){return e},e}function g(){let e=(0,r.Z)(["\n  font-size: 18px;\n"]);return g=function(){return e},e}let{TextArea:v}=o.Z,Z=e=>{let{buttonTitle:n,openCloseModal:t,open:r,confirmText:o,onConfirmModal:c,icon:d,modalHeader:h}=e,[p,m]=(0,a.useState)(""),[x,f]=(0,a.useState)("");return(0,i.jsx)(s.Z,{open:r,onOk(){if("Decline"===n&&!p){f("Reject reason is required");return}m(""),f(""),c(p)},onCancel:t,okText:n,cancelText:"Cancel",closable:!1,centered:!0,children:(0,i.jsxs)(j,{children:[h?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(l.Z,{align:"start",size:2,children:[(0,i.jsx)(w,{style:{marginRight:10,fontSize:20},children:d})," ",(0,i.jsxs)("div",{children:[(0,i.jsx)(P,{children:h}),(0,i.jsxs)(C,{children:["Are you sure you want to ",o,"?"]})]})]})}):(0,i.jsxs)("div",{children:[(0,i.jsx)(w,{style:{marginRight:10,fontSize:20},children:d})," ","Are you sure you want to ",o,"?"]}),"Decline"===n&&(0,i.jsxs)(y,{children:[(0,i.jsxs)(b,{children:[" ","Your Comments ",(0,i.jsx)("span",{style:{color:u.w.DANGER},children:"*"})]}),(0,i.jsx)(v,{value:p,onChange(e){let n=e.target.value;n&&f(""),m(n)},autoSize:{minRows:3,maxRows:5}}),x&&(0,i.jsx)(S,{children:x})]})]})})};n.Z=Z;let j=c.ZP.div(d()),w=c.ZP.span(h()),y=c.ZP.div(p()),b=c.ZP.div(m(),u.w.LIGHT_TEXT_COLOR),S=c.ZP.span(x(),u.w.DANGER),C=c.ZP.div(f(),u.w.TEXT_COLOR),P=c.ZP.div(g())},53973:function(e,n,t){"use strict";t.d(n,{d:function(){return w}});var r=t(7297),i=t(85893),o=t(80442),s=t(27790),l=t(64187),a=t(71230),c=t(15746),u=t(71577),d=t(88767),h=t(60144),p=t(94589),m=t(64082),x=t(41667),f=t(67294),g=t(80237);function v(){let e=(0,r.Z)(["\n  float: right;\n  margin-top: 10px;\n  right: 0;\n"]);return v=function(){return e},e}let Z=".xlsx, .xml",{Dragger:j}=x.Z,w=e=>{let{isModalOpen:n,handleCancel:t}=e,r=(0,d.useQueryClient)(),[p,x]=(0,f.useState)([]),v=(0,d.useMutation)(e=>(0,g.s)(e)),[w]=o.Z.useForm(),b=e=>{let n={...e,file:p};v.mutate(n,{onSuccess(){t(),r.invalidateQueries(["StudentList"]),s.ZP.success("Students added successfully"),x([])},onError(e){var n,t;let r=null==e?void 0:e.message,i=null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message;s.ZP.error(i||r),x([])}})};return(0,i.jsx)(l.Z,{title:"Import Student",open:n,onCancel:t,footer:null,width:"30vw",className:"modal-content-responsive",children:(0,i.jsx)(o.Z,{form:w,preserve:!1,layout:"vertical",onFinish:b,autoComplete:"off",children:(0,i.jsxs)(a.Z,{style:{justifyContent:"space-between"},children:[(0,i.jsx)(c.Z,{lg:24,xs:24,md:24,children:(0,i.jsxs)(j,{name:"file",multiple:!0,action:"/api/noop",accept:Z,onRemove(e){x(p.filter(n=>(null==n?void 0:n.uid)!==(null==e?void 0:e.uid)))},onChange(e){if(!e.file.originFileObj)return;let{status:n}=e.file;"done"===n&&x(e.fileList.map(e=>e.originFileObj))},onDrop(e){x(e.dataTransfer.files)},children:[(0,i.jsx)("p",{className:"ant-upload-drag-icon",children:(0,i.jsx)(m.Z,{})}),(0,i.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,i.jsxs)("p",{className:"ant-upload-hint",children:["Supports ",Z]})]})}),(0,i.jsx)(c.Z,{xs:24,style:{marginTop:"50px"},children:(0,i.jsxs)(y,{children:[(0,i.jsx)(u.Z,{size:"large",onClick:t,children:"Cancel"}),(0,i.jsx)(u.Z,{style:{backgroundColor:h.w.PRIMARY,color:"#fff",marginLeft:"10px"},size:"large",htmlType:"submit",children:"Save"})]})})]})})})},y=p.ZP.div(v())},69120:function(e,n,t){"use strict";t.d(n,{D0:function(){return r},L8:function(){return i}}),t(85893);let r=1,i=10},74131:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return B}});var r=t(7297),i=t(85893),o=t(94589),s=t(13013),l=t(27790),a=t(75527),c=t(71577),u=t(71230),d=t(15746),h=t(24016),p=t(88577),m=t(41664),x=t.n(m),f=t(99611),g=t(48689),v=t(89705),Z=t(88360),j=t(1413),w=t(67294),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888.3 757.4h-53.8c-4.2 0-7.7 3.5-7.7 7.7v61.8H197.1V197.1h629.8v61.8c0 4.2 3.5 7.7 7.7 7.7h53.8c4.2 0 7.7-3.4 7.7-7.7V158.7c0-17-13.7-30.7-30.7-30.7H158.7c-17 0-30.7 13.7-30.7 30.7v706.6c0 17 13.7 30.7 30.7 30.7h706.6c17 0 30.7-13.7 30.7-30.7V765.1c0-4.3-3.5-7.7-7.7-7.7zm18.6-251.7L765 393.7c-5.3-4.2-13-.4-13 6.3v76H438c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"export",theme:"outlined"},b=t(42135),S=function(e,n){return w.createElement(b.Z,(0,j.Z)((0,j.Z)({},e),{},{ref:n,icon:y}))};S.displayName="ExportOutlined";var C=w.forwardRef(S),P=t(81660),R=t(69120),k=t(80237),_=t(88767),E=t(11163),z=t(9166),N=t(60144),L=t(28068),O=t(53973),T=t(27836);function I(){let e=(0,r.Z)([""]);return I=function(){return e},e}function M(){let e=(0,r.Z)(["\n  float: right;\n  margin-top: 10px;\n  right: 0;\n"]);return M=function(){return e},e}let D={currentPage:R.D0,pageSize:R.L8,status:"true",search:""},A=e=>{let{showModalView:n,showModalEdit:t,openCloseDeleteLeaveModal:r,id:o}=e,l=[{key:"1",label:(0,i.jsxs)("div",{onClick:()=>n(o),children:[(0,i.jsx)(f.Z,{})," View Question"]})},{key:"2",label:(0,i.jsxs)("div",{onClick:()=>t(o),children:[(0,i.jsx)(f.Z,{})," View Students"]})},{key:"3",label:(0,i.jsxs)("div",{onClick:()=>r(o),children:[(0,i.jsx)(g.Z,{})," Delete"]})}];return(0,i.jsx)(s.Z,{menu:{items:l},placement:"bottom",arrow:!0,children:(0,i.jsx)(v.Z,{className:"rotate-90"})})},H=()=>{var e,n,t,r;let[o,s]=(0,w.useState)(""),m=(0,E.useRouter)(),f=new k.Z,[g,v]=(0,w.useState)(!1),[j,y]=(0,w.useState)(!1),[b,S]=(0,w.useState)(!1),R=(0,_.useQueryClient)(),I=()=>{v(!g)},[M,H]=(0,w.useState)(!1),[B,F]=(0,w.useState)(""),G=e=>{e?F(e):F(""),H(!M)},[Q,X]=(0,w.useState)(D),U=(0,_.useQuery)(["StudentList",{status:Q.status,page:Q.currentPage,limit:Q.pageSize,search:Q.search}],async()=>{let e={page:Q.currentPage,limit:Q.pageSize};Q.search&&(e.search=Q.search);let n=await f.list(e);return null==n?void 0:n.data}),W=null==U?void 0:null===(e=U.data)||void 0===e?void 0:e.data,q=null==U?void 0:null===(n=U.data)||void 0===n?void 0:n.meta,K=e=>{F(e),y(!0)},J=e=>{F(e),S(!0)},$=(0,_.useMutation)(e=>f.destroy(e)),ee=()=>{$.mutate(B,{onSuccess(){R.invalidateQueries(["StudentList"]),l.ZP.success("Removed Student Successfully"),G()},onError(e){var n,t;let r=null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message;l.ZP.error(r)}})},en=async()=>{await (0,T.Z)({url:"/exportStudentsDataToExcel",method:"get",responseType:"blob"}).then(e=>{let n=new Blob([e.data],{type:"application/vnd.ms-excel"}),t=document.createElement("a");t.href=URL.createObjectURL(n),t.download="students.xlsx",document.body.appendChild(t),t.click(),document.body.removeChild(t)}).catch(e=>{console.error("Failed to export to Excel:",e)})};return(0,i.jsxs)(V,{children:[(0,i.jsxs)(z.mr,{children:[(0,i.jsxs)(z.rm,{children:[(0,i.jsxs)(a.Z,{children:[(0,i.jsx)(a.Z.Item,{children:(0,i.jsx)(x(),{href:"/dashboard",children:"Home"})}),(0,i.jsx)(a.Z.Item,{children:(0,i.jsx)("span",{style:{color:N.w.BLACK},children:"Student"})})]}),(0,i.jsxs)(z.oY,{children:[(0,i.jsx)("h2",{children:"Student"}),(0,i.jsxs)(Y,{children:[" ",(0,i.jsx)(c.Z,{style:{background:N.w.COLOR_PRIMARY_BG,boxShadow:"none",color:N.w.WHITE},icon:(0,i.jsx)(Z.Z,{}),onClick:I,children:"Import Student"}),(0,i.jsx)(c.Z,{style:{background:N.w.COLOR_PRIMARY_BG,boxShadow:"none",color:N.w.WHITE,marginLeft:"10px"},type:"primary",icon:(0,i.jsx)(C,{}),onClick:en,children:"Export Student Data"})]})]})]}),(0,i.jsx)(z.E1,{children:(0,i.jsx)(z.A_,{children:(0,i.jsxs)(u.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,i.jsx)(d.Z,{span:12,xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},children:(0,i.jsx)(h.Z,{name:"search",id:"search",type:"text",placeholder:"Search By Name",autoComplete:"false",value:o,onChange:e=>s(e.target.value)})}),(0,i.jsx)(d.Z,{span:6,xs:{span:12},sm:{span:12},md:{span:6},lg:{span:6},className:"search-col-margin",children:(0,i.jsx)(c.Z,{type:"ghost",ghost:!0,style:{boxShadow:"none",borderColor:N.w.PRIMARY,color:N.w.PRIMARY,width:"100%"},onClick(){s(""),X(D)},children:"Reset"})}),(0,i.jsx)(d.Z,{span:6,xs:{span:12},sm:{span:12},md:{span:6},lg:{span:6},className:"search-col-margin",children:(0,i.jsx)(c.Z,{type:"primary",style:{boxShadow:"none",width:"100%"},children:"Search"})})]})})})]}),(0,i.jsx)(z.Y3,{children:(0,i.jsx)(p.Z,{columns:[{title:"Name",key:"name",dataIndex:"name",responsive:["sm","md","lg"]},{title:"Email",key:"email",dataIndex:"email",responsive:["sm","md","lg"]},{title:"Symbol Number",key:"symbol_number",dataIndex:"symbol_number",responsive:["sm","md","lg"]},{title:"Phone Number",key:"phone_number",dataIndex:"phone_number",responsive:["sm","md","lg"]},{title:"Program",key:"subject",render:e=>(0,i.jsx)("text",{children:e.subject.name}),responsive:["sm","md","lg"]},{title:"Date of Birth",key:"date_of_birth",dataIndex:"date_of_birth",responsive:["sm","md","lg"]},{title:"",dataIndex:"",render:e=>(0,i.jsx)(A,{showModalView:K,showModalEdit:J,openCloseDeleteLeaveModal:G,id:e.id})}],dataSource:W,scroll:{x:1e3},onRow:e=>({onClick:()=>m.push("/dir/student/".concat(e.id))}),pagination:(null==U?void 0:null===(t=U.data)||void 0===t?void 0:null===(r=t.meta)||void 0===r?void 0:r.total)>10&&{defaultPageSize:10,total:null==q?void 0:q.total,hideOnSinglePage:!0,showSizeChanger:!0,showTotal:(e,n)=>"".concat(n[0],"-").concat(n[1]," of ").concat(e," items"),onChange(e,n){X({...Q,currentPage:e,pageSize:n})},className:"bg-white-halfrem",responsive:!0}})}),(0,i.jsx)(L.Z,{buttonTitle:"Confirm",openCloseModal:G,open:M,confirmText:"remove the document",onConfirmModal:ee,icon:(0,i.jsx)(P.Z,{style:{color:N.w.DANGER}})}),(0,i.jsx)(O.d,{handleCancel:I,isModalOpen:g})]})};var B=H;let V=o.ZP.div(I()),Y=o.ZP.div(M())},9166:function(e,n,t){"use strict";t.d(n,{A_:function(){return f},E1:function(){return x},Y3:function(){return g},mr:function(){return h},oY:function(){return m},rm:function(){return p}});var r=t(7297),i=t(94589);function o(){let e=(0,r.Z)([""]);return o=function(){return e},e}function s(){let e=(0,r.Z)(["\n  border-top: 1px solid rgba(0, 0, 0, 0.2);\n"]);return s=function(){return e},e}function l(){let e=(0,r.Z)(["\n  background: #fff;\n  padding: 24px;\n"]);return l=function(){return e},e}function a(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  @media (max-width: 480px) {\n    display: flex;\n    flex-wrap: wrap;\n  }\n"]);return a=function(){return e},e}function c(){let e=(0,r.Z)(["\n  background: #fff;\n  margin: 24px;\n  height: 64px;\n  @media (max-width: 762px) {\n    overflow-wrap: anywhere;\n    height: auto;\n  }\n"]);return c=function(){return e},e}function u(){let e=(0,r.Z)(["\n  padding: 16px;\n  line-height: 20px;\n\n  // display: grid;\n  // gap: 20px;\n  align-items: center;\n  // justify-content: center;\n"]);return u=function(){return e},e}function d(){let e=(0,r.Z)(["\n  padding: 24px;\n  padding-top: 0;\n"]);return d=function(){return e},e}i.ZP.div(o());let h=i.ZP.div(s()),p=i.ZP.div(l()),m=i.ZP.div(a()),x=i.ZP.div(c()),f=i.ZP.div(u()),g=i.ZP.div(d())}},function(e){e.O(0,[2808,8045,8668,2345,9774,2888,179],function(){return e(e.s=56506)}),_N_E=e.O()}]);